{"version":3,"file":"js/73.0981785b.js","mappings":"mJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOP,EAAIQ,QAASC,WAAW,YAAYC,YAAY,kBAAkB,CAAGV,EAAIW,QAAwCT,EAAG,MAAM,CAACA,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQb,EAAIc,aAAa,CAACd,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIW,QAAQM,aAAaf,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIW,QAAQO,SAAShB,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIW,QAAQQ,YAAYjB,EAAG,IAAI,CAACF,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIW,QAAQS,aAAa,GAAvTlB,EAAG,MAAM,CAACF,EAAIe,GAAG,eACtO,EACGM,EAAkB,G,8BCkBtB,GACAhB,KAAAA,gBACAiB,YAAAA,EACAC,MAAAA,CACAC,GAAAA,CACAC,KAAAA,SAGAC,OACA,OACAf,QAAAA,CAAAA,EACAH,SAAAA,EAEA,EACAmB,QAAAA,KACA,iBACA,gBAEAC,aACA,gBACAC,YAAAA,KACA,iDACA,cACAC,EAAAA,EAAAA,MAAAA,yBAAAA,QAAAA,KAAAA,QAAAA,YAEA,kBACA,IACA,EACA,mBACA,iDACAC,EAAAA,OAAAA,EAAAA,GACA,+BAEAD,EAAAA,EAAAA,MAAAA,uBACA,gCACA,gCACA,GAEAE,UACA,iBACA,GC5D6P,I,UCQzPC,GAAY,OACd,EACAlC,EACAsB,GACA,EACA,KACA,WACA,MAIF,EAAeY,EAAiB,O,qCCjBhC,MAAMH,EAAW,IAAII,EAAAA,WACrB,Q","sources":["webpack://vue2/./src/views/ArticleDetail.vue","webpack://vue2/src/views/ArticleDetail.vue","webpack://vue2/./src/views/ArticleDetail.vue?04fe","webpack://vue2/./src/views/ArticleDetail.vue?a290","webpack://vue2/./src/utils/event-bus.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"article-detail\"},[(!_vm.article)?_c('div',[_vm._v(\" 文章不存在！ \")]):_c('div',[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.delArticle}},[_vm._v(\"删除文章\")]),_c('p',[_vm._v(_vm._s(_vm.article.userName))]),_c('p',[_vm._v(_vm._s(_vm.article.time))]),_c('p',[_vm._v(_vm._s(_vm.article.address))]),_c('p',[_vm._v(_vm._s(_vm.article.content))])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"article-detail\" v-loading=\"loading\">\n    <div v-if=\"!article\">\n      文章不存在！\n    </div>\n    <div v-else>\n      <el-button type=\"danger\" @click=\"delArticle\">删除文章</el-button>\n      <p>{{article.userName}}</p>\n      <p>{{article.time}}</p>\n      <p>{{article.address}}</p>\n      <p>{{article.content}}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport articleData from '@/mock/article.json'\nimport EventBus from '@/utils/event-bus'\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'ArticleDetail',\n  keepScroll: true,\n  props: {\n    id: {\n      type: String\n    }\n  },\n  data () {\n    return {\n      article: {},\n      loading: false\n    }\n  },\n  methods: {\n    ...mapActions('cache', [\n      'removeCache'\n    ]),\n    getArticle () {\n      this.loading = true\n      setTimeout(() => {\n        this.article = articleData.find(item => item.id === Number(this.id))\n        if (this.article) {\n          EventBus.$emit('LayoutTabs:setTabTitle', `文章详情-${this.article.userName}`) // 设置tab标题\n        }\n        this.loading = false\n      }, 1000)\n    },\n    async delArticle () {\n      const index = articleData.findIndex(data => data.id === Number(this.id)) \n      articleData.splice(index, 1)\n      this.$message.success('文章已删除')\n      \n      EventBus.$emit('LayoutTabs:closeTab') // 关闭当前tab页\n      this.removeCache('ArticleList') // 清除列表页缓存\n      this.$router.replace('/article') // 跳转列表页\n    }\n  },\n  created () {\n    this.getArticle()\n  }\n}\n</script>\n\n<style lang='less' scoped>\n.article-detail p {\n  width: 600px;\n  margin: 0 auto;\n  font-size: 16px;\n  line-height: 2.5;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleDetail.vue?vue&type=template&id=081b9c3f&scoped=true&\"\nimport script from \"./ArticleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleDetail.vue?vue&type=style&index=0&id=081b9c3f&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"081b9c3f\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n\nconst EventBus = new Vue()\nexport default EventBus"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loading","expression","staticClass","article","attrs","on","delArticle","_v","_s","userName","time","address","content","staticRenderFns","keepScroll","props","id","type","data","methods","getArticle","setTimeout","EventBus","articleData","created","component","Vue"],"sourceRoot":""}