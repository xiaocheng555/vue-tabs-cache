import{a as g,r as _,b as h,c as E,x as A,y as x,e as D,q as k,s as C,o as u,f as c,g as N,h as T,m as a,t as s,k as w,E as B,_ as F}from"./index.d57aa5be.js";import{a as n}from"./article.6996027e.js";import{E as p}from"./event-bus.a1e0b78d.js";const L={class:"article-detail"},S={key:0},V={key:1},I=w("\u5220\u9664\u6587\u7AE0"),M=g({__name:"ArticleDetail",props:{id:{type:String}},setup(v){const r=v,o=_(!1),e=_(null),d=h(),{removeCache:m}=E();A();function f(){o.value=!0,setTimeout(()=>{e.value=n.find(t=>t.id===Number(r.id)),e.value&&p.emit("LayoutTabs:setTabTitle",`\u6587\u7AE0\u8BE6\u60C5-${e.value.userName}`),o.value=!1},1e3)}async function b(){var i;const t=n.findIndex(l=>l.id===Number(r.id));n.splice(t,1),B.success("\u6587\u7AE0\u5DF2\u5220\u9664"),p.emit("LayoutTabs:closeTab"),m("ArticleList"),((i=window.history.state)==null?void 0:i.back)==="/article"?await d.go(-1):await d.replace("/article")}return x(()=>{f()}),(t,i)=>{const l=D("el-button"),y=k("loading");return C((u(),c("div",L,[e.value?(u(),c("div",V,[N(l,{type:"danger",onClick:b},{default:T(()=>[I]),_:1}),a("p",null,s(e.value.userName),1),a("p",null,s(e.value.time),1),a("p",null,s(e.value.address),1),a("p",null,s(e.value.content),1)])):(u(),c("div",S," \u6587\u7AE0\u4E0D\u5B58\u5728\uFF01 "))])),[[y,o.value]])}}});const $=F(M,[["__scopeId","data-v-380a00cb"]]);export{$ as default};
